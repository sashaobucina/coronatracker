{"version":3,"sources":["helpers/misc.js","components/SearchBar/SearchBar.js","components/SearchButton/SearchButton.js","components/Alerts/ErrorAlert.js","components/Slider/DateSlider.js","components/Graph/GraphDerivative.js","components/Graph/GraphOverall.js","components/Graph/GraphTrajectory.js","components/Buttons/ScaleButtonGroup.js","components/Buttons/SliderButtonGroup.js","components/Graph/GraphBundle.js","helpers/conversions.js","components/Tabs/ScrollableTabs.js","components/Tabs/CountryTab.js","components/App.js","index.js"],"names":["isDev","React","createElement","getCountry","country","countries","reduce","acc","curr","toLowerCase","FETCH_URL","PREFETCH_URL","SearchBar","this","props","classes","suggestions","updateState","style","textAlign","id","input","color","clearIndicator","popupIndicator","popupIndicatorOpen","paper","noOptions","freeSolo","options","onSelect","e","target","value","noOptionsText","renderInput","params","TextField","className","textfield","label","margin","variant","InputProps","type","Component","withStyles","background","borderColor","SearchButton","fetchData","Button","fullWidth","root","onClick","startIcon","height","ErrorAlert","open","handleClose","Snackbar","autoHideDuration","onClose","anchorOrigin","horizontal","vertical","Alert","severity","DateSlider","valueToDate","dates","bind","Slider","colorPrimary","colorSecondary","rail","slider","track","defaultValue","valueLabelFormat","aria-labelledby","marks","step","min","max","length","valueLabelDisplay","onChange","_","GraphDerivative","data","dataKey","stroke","fill","travellerWidth","strokeWidth","dot","GraphOverall","minWidth","title","x1","y1","x2","y2","offset","stopColor","stopOpacity","fillOpacity","GraphWeekly","scale","domain","top","right","left","bottom","strokeDasharray","name","ticks","angle","position","line","animationDuration","ScaleButtonGroup","updateScale","ButtonGroup","Tooltip","placement","disabled","SliderButtonGroup","useState","playing","setPlaying","maxIndex","onStepClick","updateIndexState","useEffect","interval","setInterval","indexValue","clearInterval","playButton","IconButton","size","Pause","PlayArrow","Restore","ArrowBack","ArrowForward","GraphBundle","overall","first_derivative_data","second_derivative_data","weeklyData","filter","entry","confirmed","map","idx","arr","weeklyVal","cases","weekly","Math","round","convertDataToWeekly","n","slice","convertToDates","Grid","container","direction","justify","alignItems","marginTop","item","xs","sm","Typography","align","md","lg","textTransform","GraphTrajectory","fontStyle","ScrollableTabs","tabs","tabIndex","AppBar","backgroundColor","Tabs","indicatorColor","scrollButtons","CountryTab","index","handleChange","Tab","component","Close","App","maybeCountry","state","datum","userInput","validCountries","setState","idxValue","indexOf","url","axios","get","then","res","newTab","validated","catch","err","clearState","console","error","prefetchData","key","removeTab","handleTabChange","stopPropagation","fn","i","newTabIndex","newTabs","tab","showTabs","ClearAll","showGraphs","increment","updateInputState","spacing","Link","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2efb1fa7.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction isDev() {\n  return '_self' in React.createElement('div');\n}\n\nexport function getCountry(country, countries) {\n  return countries.reduce((acc, curr) => {\n    return curr.toLowerCase() === country.toLowerCase() ? curr : acc\n  }, null)\n}\n\nexport const FETCH_URL = isDev() ? \"http://localhost:5000/covid19/\" : \"https://coronatracker-rest.herokuapp.com/covid19/\";\nexport const PREFETCH_URL = isDev() ? \"http://localhost:5000/valid-countries\" : \"https://coronatracker-rest.herokuapp.com/valid-countries\";","import React, { Component } from \"react\";\nimport TextField from '@material-ui/core/TextField';\nimport AutoComplete from '@material-ui/lab/Autocomplete'\nimport { withStyles } from '@material-ui/styles';\n\nconst styles = {\n  paper: {\n    color: '#3BBA9C',\n    background: '#3C3F58',\n  },\n  color: {\n    color: '#3BBA9C'\n  },\n  textfield: {\n    background: '#3C3F58',\n    '& label': {\n      color: '#3BBA9C'\n    },\n    '& label.Mui-focused': {\n      color: '#3BBA9C'\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: '#3BBA9C'\n      },\n      '&:hover fieldset': {\n        borderColor: '#3BBA9C'\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: '#3BBA9C'\n      }\n    }\n  }\n}\n\nclass SearchBar extends Component {\n  render() {\n    const { classes, suggestions, updateState } = this.props;\n    return (\n      <div style={{ textAlign: \"center\" }}>\n        <AutoComplete\n          id=\"autocomplete-main\"\n          classes={{\n            input: classes.color,\n            clearIndicator: classes.color,\n            popupIndicator: classes.color,\n            popupIndicatorOpen: classes.color,\n            paper: classes.paper,\n            noOptions: classes.color\n          }}\n          freeSolo\n          options={suggestions}\n          onSelect={(e) => updateState(e.target.value)}\n          noOptionsText={\"No countries match your search...\"}\n          renderInput={params => (\n            <TextField\n              {...params}\n              className={classes.textfield}\n              label=\"Search for a country\"\n              margin=\"normal\"\n              variant=\"outlined\"\n              InputProps={{ ...params.InputProps, type: 'search' }}\n            />\n          )}\n        />\n      </div>\n    )\n  }\n}\n\nexport default withStyles(styles)(SearchBar);","import React, { Component } from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { withStyles } from \"@material-ui/styles\";\n\n\nconst styles = {\n  root: {\n    background: '#3C3F58',\n    color: '#3BBA9C',\n    height: 48,\n    \"&:hover\": {\n      background: '#3C3F58',\n    }\n  }\n}\n\nclass SearchButton extends Component {\n  render() {\n    const { classes, fetchData } = this.props\n    return (\n        <Button\n          variant=\"contained\"\n          color=\"inherit\"\n          fullWidth={true}\n          className={classes.root}\n          onClick={fetchData}\n          startIcon={ <SearchIcon /> }\n        >\n          Search\n        </Button>\n    )\n  }\n}\n\nexport default withStyles(styles)(SearchButton);","import React, { Component } from \"react\";\nimport { Snackbar} from \"@material-ui/core\";\nimport { Alert } from \"@material-ui/lab\";\n\nclass ErrorAlert extends Component {\n  render() {\n    const { open, handleClose } = this.props;\n    return (\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose} anchorOrigin={{  horizontal: \"left\", vertical: \"bottom\"}}>\n        <Alert severity=\"error\" variant=\"filled\" onClose={handleClose}>\n          Invalid country selected - please select another!\n        </Alert>\n      </Snackbar>\n    )\n  }\n}\n\nexport default ErrorAlert;","import React, { Component } from \"react\";\nimport { Slider } from \"@material-ui/core\";\nimport { withStyles } from '@material-ui/styles';\n\nconst styles = {\n  color: {\n    color: '#3BBA9C'\n  },\n  slider: {\n    height: 5,\n  }\n}\n\nclass DateSlider extends Component {\n  constructor(props) {\n    super(props);\n\n    this.valueToDate = this.valueToDate.bind(this);\n  }\n\n  valueToDate = (value) => {\n    return this.props.dates[value];\n  }\n\n  render() {\n    const { classes, dates, updateState, value } = this.props;\n    return (\n      <Slider\n        classes={{\n          colorPrimary: classes.color,\n          colorSecondary: classes.color,\n          rail: classes.slider,\n          track: classes.slider\n        }}\n        defaultValue={0}\n        valueLabelFormat={this.valueToDate}\n        aria-labelledby=\"discrete-slider\"\n        marks\n        step={1}\n        min={0}\n        max={dates.length - 1}\n        valueLabelDisplay=\"on\"\n        value={value}\n        onChange={(_, value) => updateState(value)}\n      />\n    )\n  }\n}\n\nexport default withStyles(styles)(DateSlider);","import React, { Component } from \"react\";\nimport { Brush, CartesianGrid, Legend, XAxis, YAxis, LineChart, Line, ResponsiveContainer, Tooltip } from \"recharts\";\n\nclass GraphDerivative extends Component {\n  render() {\n    const { data, dataKey } = this.props;\n    return (\n      <ResponsiveContainer height={400}>\n        <LineChart data={data} >\n          <Brush stroke='#3BBA9C' height={25} fill=\"#3C3F58\" travellerWidth={8} />\n          <CartesianGrid strokeWidth={0.5} />\n          <XAxis dataKey=\"date\" stroke={'#3BBA9C'} />\n          <YAxis stroke={'#3BBA9C'} />\n          <Line type=\"monotone\" dataKey={dataKey} stroke=\"#3BBA9C\" strokeWidth={2} dot={false} />\n          <Tooltip />\n          <Legend />\n        </LineChart>\n      </ResponsiveContainer>\n    )\n  }\n}\n\nexport default GraphDerivative","import React, { Component } from \"react\";\nimport { Brush, Legend, AreaChart, XAxis, YAxis, Area, Tooltip, ResponsiveContainer } from \"recharts\";\n\nclass GraphOverall extends Component {\n  render() {\n    const { data } = this.props;\n    return (\n      <ResponsiveContainer height={500} style={{ minWidth: \"100%\" }}>\n        <AreaChart data={data} title=\"Cases of COVID-19\">\n          <defs>\n            <linearGradient id=\"colorConfirmed\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n              <stop offset=\"5%\" stopColor=\"#a15c03\" stopOpacity={0.8}/>\n              <stop offset=\"95%\" stopColor=\"#a15c03\" stopOpacity={0}/>\n            </linearGradient>\n            <linearGradient id=\"colorDeaths\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n              <stop offset=\"5%\" stopColor=\"#9c3321\" stopOpacity={0.8}/>\n              <stop offset=\"95%\" stopColor=\"#9c3321\" stopOpacity={0}/>\n            </linearGradient>\n            {/* <linearGradient id=\"colorRecovered\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n              <stop offset=\"5%\" stopColor=\"#447a28\" stopOpacity={0.8}/>\n              <stop offset=\"95%\" stopColor=\"#447a28\" stopOpacity={0}/>\n            </linearGradient> */}\n          </defs>\n          <Brush stroke='#3BBA9C' height={25} fill=\"#3C3F58\" travellerWidth={8} />\n          <XAxis dataKey=\"date\" stroke={'#3BBA9C'} />\n          <YAxis stroke={'#3BBA9C'} />\n          <Area type=\"monotone\" dataKey=\"confirmed\" stroke=\"#a15c03\" fillOpacity={1} fill=\"url(#colorConfirmed)\"/>\n          <Area type=\"monotone\" dataKey=\"deaths\" stroke=\"red\" fillOpacity={1} fill=\"url(#colorDeaths)\"/>\n          {/* <Area type=\"monotone\" dataKey=\"recovered\" stroke=\"green\" fillOpacity={1} fill=\"url(#colorRecovered)\" /> */}\n          <Tooltip />\n          <Legend />\n        </AreaChart>\n      </ResponsiveContainer>\n    )\n  }\n}\n\nexport default GraphOverall;","import React, { Component } from \"react\";\nimport { Tooltip, XAxis, YAxis, ResponsiveContainer, CartesianGrid, ScatterChart, Scatter, Legend } from \"recharts\";\n\n// convert to scatter chart with line prop\nclass GraphWeekly extends Component {\n  render() {\n    const { data, scale } = this.props;\n    const domain = scale === \"log\" ? [1, 10000000] : [1, 10000];\n    const ticks = [1, 10, 100, 1000, 10000, 100000, 10000000];\n    return (\n      <ResponsiveContainer height={550} style={{ minWidth: \"100%\" }}>\n        <ScatterChart margin={{ top: 15, right: 30, left: 20, bottom: 5 }}>\n          <CartesianGrid strokeWidth={0.5} strokeDasharray=\"3 3\"/>\n          <XAxis dataKey=\"cases\" name=\"Total Confirmed Cases\" stroke={'#3BBA9C'} type=\"number\" domain={[1, 1000000]} scale=\"log\" ticks={ticks} />\n          <YAxis \n            dataKey=\"weekly\"\n            name=\"Weekly Confirmed Cases\"\n            label={{ value: \"Confirmed Cases (per week)\", angle: -90, position: \"insideBottomLeft\", fill: \"#3BBA9C\" }} \n            stroke={'#3BBA9C'}\n            type=\"number\"\n            domain={domain}\n            scale={scale}\n          />\n          <Scatter name=\"Total Confirmed Cases\" data={data} fill=\"#3BBA9C\" stroke=\"#3BBA9C\" line animationDuration={400} />\n          <Tooltip />\n          <Legend />\n        </ScatterChart>\n      </ResponsiveContainer>\n    )\n  }\n}\n\nexport default GraphWeekly;","import React, { Component } from \"react\";\nimport { ButtonGroup, Tooltip, Button } from \"@material-ui/core\";\n\nclass ScaleButtonGroup extends Component {\n  render() {\n    const { scale, updateScale } = this.props;\n    return (\n      <ButtonGroup color=\"primary\">\n        <Tooltip title={scale !== \"log\" ? \"Convert to logarithmic scale\" : \"\"} placement=\"top\">\n          <Button variant=\"contained\" disabled={scale === \"log\"} onClick={() => updateScale(\"log\")}>\n            Log\n          </Button>\n        </Tooltip>\n        <Tooltip title={scale !== \"linear\" ? \"Convert to linear scale\" : \"\"} placement=\"right\">\n          <Button variant=\"contained\" disabled={scale === \"linear\"} onClick={() => updateScale(\"linear\")}>\n            Linear\n          </Button>\n        </Tooltip>\n      </ButtonGroup>\n    )\n  }\n}\n\nexport default ScaleButtonGroup;","import React, { useEffect, useState } from \"react\";\nimport { IconButton, Tooltip, ButtonGroup } from \"@material-ui/core\";\nimport { ArrowBack, ArrowForward, PlayArrow, Pause, Restore } from \"@material-ui/icons\";\n\nfunction SliderButtonGroup(props) {\n  const [ playing, setPlaying ] = useState(true);\n  const { maxIndex, onStepClick, updateIndexState } = props;\n\n  useEffect(() => {\n    if (playing) {\n      const interval = setInterval(() => {\n        const { indexValue, maxIndex, updateIndexState } = props;\n        if (indexValue < maxIndex) {\n          updateIndexState(indexValue + 1);\n        } else {\n          setPlaying(!playing);\n        }\n      }, 100);\n      return () => clearInterval(interval)\n    }\n  }, [playing, props]);\n\n  const restore = () => {\n    setPlaying(false);\n    updateIndexState(0);\n  }\n\n  const playButton = playing\n    ? (\n      <Tooltip title=\"Pause\" placement=\"bottom\">\n        <IconButton color=\"inherit\" size=\"medium\" onClick={() => setPlaying(false)}>\n          <Pause />\n        </IconButton>\n      </Tooltip>\n    )\n    : (\n      <Tooltip title=\"Play\" placement=\"bottom\">\n        <IconButton onClick={() => setPlaying(true)}>\n          <PlayArrow />\n        </IconButton>\n      </Tooltip>\n    );\n\n  return (\n    <ButtonGroup color=\"inherit\">\n      {playButton}\n      <Tooltip title=\"Reset\" placement=\"bottom\">\n        <IconButton onClick={restore}>\n          <Restore />\n        </IconButton>\n      </Tooltip>\n      <Tooltip title=\"Decrement\">\n        <IconButton onClick={(_) => onStepClick(maxIndex, false)}>\n          <ArrowBack />\n        </IconButton>\n      </Tooltip>\n      <Tooltip title=\"Increment\">\n        <IconButton onClick={(_) => onStepClick(maxIndex, true)}>\n          <ArrowForward />\n        </IconButton>\n      </Tooltip>\n    </ButtonGroup>\n  );\n}\n\nexport default SliderButtonGroup;","import React, { Component } from \"react\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport DateSlider from \"../Slider/DateSlider\"\nimport GraphDerivative from \"./GraphDerivative\"\nimport GraphOverall from \"./GraphOverall\";\nimport GraphTrajectory from \"./GraphTrajectory\";\nimport ScaleButtonGroup from \"../Buttons/ScaleButtonGroup\";\nimport SliderButtonGroup from \"../Buttons/SliderButtonGroup\";\nimport { convertDataToWeekly, convertToDates } from \"../../helpers/conversions\";\n\nclass GraphBundle extends Component {\n  render() {\n    const { country, data, indexValue, scale, onStepClick, updateIndexState, updateScale } = this.props;\n    const { overall, first_derivative_data, second_derivative_data } = data;\n\n    // collect data in proper format\n    const weeklyData = convertDataToWeekly(overall);\n    const dates = convertToDates(overall, weeklyData.length);\n    const maxIndex = dates.length - 1;\n\n    return (\n      <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ marginTop: 30 }}>\n        <Grid item xs={12} sm={12}>\n          <Typography align=\"center\" variant=\"h4\">COVID-19 Cases ({country})</Typography>\n        </Grid>\n        <Grid item xs={10} sm={10}>\n          <GraphOverall data={overall} />\n        </Grid>\n        <Grid item xs={5} sm={5} md={5} lg={5} >\n          <Typography align=\"center\" variant=\"h5\">Rate of Change in Cases</Typography>\n          <GraphDerivative data={first_derivative_data} dataKey={\"first_derivative\"} />\n        </Grid>\n        <Grid item xs={5} sm={5} md={5} lg={5} >\n          <Typography align=\"center\" variant=\"h5\">Acceleration of Change</Typography>\n          <GraphDerivative data={second_derivative_data} dataKey={\"second_derivative\"} />\n        </Grid>\n        <Grid item xs={10} sm={10} md={10} lg={10} style={{ margin: 20 }}>\n          <Typography align=\"center\" style={{ textTransform: \"capitalize\" }} variant=\"h5\">COVID-19 Trajectory ({scale})</Typography>\n          <ScaleButtonGroup scale={scale} updateScale={updateScale} />\n          <GraphTrajectory data={weeklyData.slice(0, indexValue)} scale={scale} />\n          <Typography align=\"center\" fontStyle=\"oblique\"style={{ marginTop: 20 }} variant=\"body2\">← Tune slider to view changes over time →</Typography>\n          <DateSlider dates={dates} updateState={updateIndexState} value={indexValue} />\n          <SliderButtonGroup\n            indexValue={indexValue}\n            maxIndex={maxIndex}\n            onStepClick={onStepClick}\n            updateIndexState={updateIndexState} />\n        </Grid>\n      </Grid>\n    )\n  }\n}\n\nexport default GraphBundle;","export function convertDataToWeekly(overall) {\n  const filteredData = overall.filter((entry) => entry.confirmed !== 0);\n\n  let data = filteredData.map((entry, idx, arr) => {\n    const weeklyVal = idx < 7 ? 0 : arr[idx][\"confirmed\"] - arr[idx - 7][\"confirmed\"];\n    return {\n      cases: entry.confirmed,\n      weekly: Math.round(weeklyVal)\n    };\n  });\n\n  return data.filter((entry) => entry.weekly >= 10);\n}\n\nexport function convertToDates(overall, offset) {\n  const n = overall.length\n  return overall.slice(n - offset, n).map(entry => entry[\"date\"])\n}","import React from \"react\";\nimport { AppBar, Tabs } from \"@material-ui/core\";\n\nexport default function ScrollableTabs(props) {\n  const { tabs, tabIndex } = props;\n\n  return (\n    <AppBar position=\"static\" color=\"inherit\" style={{ backgroundColor: \"#3C3F58\" }}>\n      <Tabs\n        value={tabIndex}\n        indicatorColor=\"primary\"\n        variant=\"scrollable\"\n        scrollButtons=\"auto\"\n      >\n        {[...tabs]}\n      </Tabs>\n    </AppBar>\n  )\n};","import React from \"react\";\nimport { Tab, IconButton } from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\n\nexport default function CountryTab(props) {\n  const { country, index, handleClose, handleChange } = props;\n\n  return (\n    <Tab\n      component=\"div\"\n      onClick={() => handleChange(index)}\n      label={(\n        <div>\n          {country}\n          <IconButton color=\"inherit\" size=\"small\" onClick={(e) => handleClose(e, index)}>\n            <Close />\n          </IconButton>\n        </div>\n      )}\n    />\n  )\n}","import React, { Component } from 'react';\nimport '../style/App.css';\nimport { getCountry, FETCH_URL, PREFETCH_URL } from '../helpers/misc';\nimport axios from \"axios\";\nimport SearchBar from './SearchBar/SearchBar';\nimport SearchButton from \"./SearchButton/SearchButton\";\nimport { Grid, Typography, Link, IconButton, Tooltip, ButtonGroup } from \"@material-ui/core\";\nimport { ClearAll, Close } from '@material-ui/icons';\nimport ErrorAlert from './Alerts/ErrorAlert';\nimport GraphBundle from './Graph/GraphBundle';\nimport ScrollableTabs from './Tabs/ScrollableTabs';\nimport CountryTab from './Tabs/CountryTab';\n\nclass App extends Component{\n  constructor(props) {\n    super(props)\n    this.state = {\n      countries: [],\n      idxValue: 0,\n      userInput: '',\n      datum: [],\n      scale: \"log\",\n      tabs: [],\n      tabIndex: 0,\n      validCountries: [],\n      validated: true\n    };\n\n    /* Bindings */\n    this.clearState = this.clearState.bind(this);\n    this.onStepClick = this.onStepClick.bind(this);\n    this.updateInputState = this.updateInputState.bind(this);\n    this.updateIndexState = this.updateIndexState.bind(this);\n    this.updateScale = this.updateScale.bind(this);\n    this.handleTabChange = this.handleTabChange.bind(this);\n  };\n\n  fetchData = () => {\n    const { countries, datum, tabs, userInput, validCountries } = this.state;\n    let maybeCountry;\n\n    maybeCountry = getCountry(userInput, countries);\n    if (maybeCountry) {\n      this.setState({\n        idxValue: 0,\n        tabIndex: countries.indexOf(maybeCountry)\n      });\n      return;\n    }\n\n    maybeCountry = getCountry(userInput, validCountries);\n    if (maybeCountry) {\n      const url = FETCH_URL + maybeCountry;\n      axios.get(url).then(res => {\n        this.setState({\n          countries: [...countries, maybeCountry],\n          datum: [...datum, res.data],\n          idxValue: 0,\n          tabs: [...tabs, this.newTab(maybeCountry, tabs.length)],\n          tabIndex: tabs.length,\n          validated: true\n        });\n      }).catch(err => {\n        this.clearState(false);\n        console.error(err);\n      });\n    } else {\n      this.setState({\n        idxValue: 0,\n        validated: false\n      });\n    }\n  }\n\n  prefetchData = () => {\n    axios.get(PREFETCH_URL).then(res => {\n      this.setState({\n        validCountries: res.data\n      })\n    })\n  };\n\n  newTab = (country, index) => {\n    return (\n      <CountryTab\n        country={country}\n        key={index}\n        index={index}\n        handleClose={this.removeTab}\n        handleChange={this.handleTabChange}\n      />\n    )\n  }\n\n  removeTab = (e, index) => {\n    e.stopPropagation();\n\n    const { countries, datum, tabs, tabIndex } = this.state;\n    const fn = (_, i) => i !== index;\n    const newTabIndex = index > tabIndex ? tabIndex : Math.max(0, tabIndex - 1);\n    const newTabs = tabs.map((tab, i) => {\n      return i > index ? this.newTab(countries[i], i - 1) : tab;\n    })\n\n    this.setState({\n      countries: countries.filter(fn),\n      datum: datum.filter(fn),\n      tabs: newTabs.filter(fn),\n      tabIndex: newTabIndex\n    });\n  }\n\n  showTabs = () => {\n    const { tabs, tabIndex } = this.state;\n    return tabs.length === 0\n      ? (<></>)\n      : (\n        <Grid container direction=\"row\" alignItems=\"center\" style={{ marginTop: 50 }}>\n          <Grid item xs={1} sm={1} md={1} lg={1} />\n          <Grid item xs={8} sm={8} md={8} lg={8}>\n            <ScrollableTabs tabs={tabs} tabIndex={tabIndex} />\n          </Grid>\n          <Grid item xs={2} sm={2} md={2} lg={2}>\n            <ButtonGroup color=\"inherit\">\n            <Tooltip title=\"Close tab\" placement=\"top\">\n                <IconButton onClick={(e) => this.removeTab(e, tabIndex)}>\n                  <Close />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"Clear all\" placement=\"right\">\n                <IconButton onClick={() => this.clearState(true)}>\n                  <ClearAll />\n                </IconButton>\n              </Tooltip>\n            </ButtonGroup>\n          </Grid>\n        </Grid>\n      )\n  }\n\n  showGraphs = () => {\n    const { countries, datum, idxValue, scale, tabIndex } = this.state;\n    return datum.length === 0\n      ? (<></>)\n      : (\n        <GraphBundle\n          country={countries[tabIndex]}\n          data={datum[tabIndex]}\n          indexValue={idxValue}\n          scale={scale}\n          onStepClick={this.onStepClick}\n          updateIndexState={this.updateIndexState}\n          updateScale={this.updateScale}\n        />\n      )\n  }\n\n  clearState = (validated) => {\n    this.setState({\n      countries: [],\n      datum: [],\n      tabs: [],\n      idxValue: 0,\n      tabIndex: 0,\n      validated: validated\n    });\n  }\n\n  onStepClick = (n, increment) => {\n    const { idxValue } = this.state;\n    if (increment) {\n      this.setState({\n        idxValue: idxValue < n ? idxValue + 1 : 0\n      })\n    } else {\n      this.setState({\n        idxValue: idxValue > 0 ? idxValue - 1 : n\n      })\n    }\n  }\n\n  handleTabChange = (value) => {\n    this.setState({\n      tabIndex: value\n    })\n  }\n\n  updateInputState = (value) => {\n    this.setState({\n      userInput: value\n    })\n  }\n\n  updateIndexState = (idx) => {\n    this.setState({\n      idxValue: idx\n    })\n  }\n\n  updateScale = (scale) => {\n    this.setState({\n      scale: scale\n    })\n  }\n\n  componentDidMount() {\n    this.prefetchData();\n  };\n\n  render() {\n    const { validated, validCountries, userInput } = this.state;\n\n    return (\n      <div id=\"root-app\">\n        <ErrorAlert open={!validated} handleClose={() => this.setState({ validated: true })} />\n        <Grid container spacing={2} direction=\"row\" justify=\"center\" alignItems=\"center\" >\n          <Grid item xs={12} sm={12} md={12} lg={12}>\n            <Typography variant=\"body1\" color=\"inherit\" align=\"center\" style={{ marginTop: 40 }}>\n              Tracking COVID-19 movements and trends - search \"Global\" to get world view\n            </Typography>\n          </Grid>\n          <Grid item sm xs md lg />\n          <Grid item xs={5} sm={5} md={4} lg={4}>\n            <SearchBar\n              suggestions={validCountries}\n              fetchData={this.fetchData}\n              updateState={this.updateInputState}\n              value={userInput}\n            />\n          </Grid>\n          <Grid item sm={3} xs={3} md={2} lg={2}>\n            <SearchButton fetchData={this.fetchData} />\n          </Grid>\n          <Grid item sm xs md lg />\n        </Grid>\n        { this.showTabs() }\n        { this.showGraphs() }\n        <Grid item sm xs>\n          <Typography align=\"center\" variant=\"body1\" style={{ margin: 20 }}>\n            Big thanks to the <Link href=\"https://github.com/CSSEGISandData/COVID-19\" color=\"primary\" variant=\"body1\">John Hopkins CSSE</Link> for the data!\n          </Typography>\n        </Grid>\n      </div>\n    )\n  };\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}